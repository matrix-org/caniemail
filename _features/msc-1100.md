---
title: "Refine and clarify how presence works"
created_at: "2017-12-26"
description:
keywords: work-in-progress
client_stats:
server_stats:
sdk_stats:
services_stats:
footnotes:
notes:
links:
 - title: "PR for MSC1100"
   link: "https://github.com/matrix-org/matrix-doc/issues/1100"
 - title: Documentation
   link: "https://docs.google.com/document/d/1sKaM9J5oorEeReYwOBmcgED6XnX2PdCYcx0Pp0gFnqM/edit#"
---

*Edited by TravisR to make this a proposal - original body below*

----

The presence API is better than it used to be, but still very confusing in some respects.  Custom presence is particularly broken, as @turt2live discovered in https://github.com/matrix-org/matrix-react-sdk/pull/1676.

I've made a proposal at https://docs.google.com/document/d/1sKaM9J5oorEeReYwOBmcgED6XnX2PdCYcx0Pp0gFnqM/edit# - if someone can review it then I'll do a spec PR (and a synapse PR) to implement it.  It will be largely backwards compatible with the current behaviour.
